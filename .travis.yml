language: r
sudo: required
cache: packages
latex: false

warnings_are_errors: false

r:
 - release

before_install:
   - mkdir -p ~/.R
   - echo "CXX14FLAGS=-O3 -mtune=native -march=native -Wno-unused-variable -Wno-unused-function  -Wno-macro-redefined" >> ~/.R/Makevars
   - echo "CXX14 = g++ -std=c++1y" >> ~/.R/Makevars

after_success:
  - travis_wait 20 tar -C .. -xf $PKG_TARBALL
  - travis_wait 40 Rscript -e 'covr::coveralls(line_exclusions= c("/src/include/models.hpp", "src/init.cpp", "R/zzz.R", "R/runshiny.R"))'
